# Self-Watering-Tree

Self-Watering Tree circuit utilizing SparkFun soil moisture sensor to actuate a water pump via a relay. Includes an autonomous mode using a switch and an Arduino Nano to drive different colored LEDs to simulate the effect of the soil gradually getting dryer and activating the water pump for display purposes. Soldered in the shape of a tree using only electrical components and copper wire.

## Circuit Description

![Picture1](https://github.com/user-attachments/assets/5d776dd5-a194-4e8c-9f9e-917e5e9de023)

The circuit takes a 9 VDC input and steps down the voltages to 5 VDC using an LM7805 voltage regulator. The 0.22 µF and 0.1µF capacitors act as coupling capacitors, on the input and output voltage of the LM7805. This helps reduce the potential noise on the input and output as well as assist the LM7805 in regulating voltage if it is far from the power source. 

The 5VDC output is then connected to a SPDT toggle switch, relay, and the two 2N3904 BJT Transistors in the circuit. The toggle switch is used to give power to either the Arduino Nano portion of the circuit (Autonomous Mode), or the soil moisture sensor (Standard Mode). This helps limit the current draw as the Arduino Nano will only be on during autonomous mode and decrease the overall current draw of the circuit as only one load will be active at a time.

The BJT portion of the circuits assist in providing the necessary coil voltage to switch the relay from the normally open position (NO) to the normally closed position (NC). Q2 is connected to a 10 kΩ potentiometer which is connected to the output signal pin of the soil moisture sensor. The potentiometer is responsible for adjusting the sensitivity of the sensor. When Q2 goes into saturation from soil moisture sensor output, Q1 will also go into saturation, basically connecting the ground directly to one end of the coil. When in autonomous mode, the Arduino Nano will output a digital high at the base of Q1 for a similar output.

The 5V relay portion of the circuit is used to drive the water pump in both autonomous mode and standard mode. The relay’s coil is connected in parallel to a 1N4149 diode. The diode acts as a protection diode to keep current flowing in one direction. This prevents the relay from potentially overheating if current was able to flow both ways in the relay. One end of the coil is connected to 5 VDC from the LM7805, and the other end is connected to the BJT portion. The common pin is connected to 5 VDC, the normally open pin is connected to LED1 and two 470 Ω resistor, this LED is blue and signifies that the soil is moist, and the normally closed pin is connected the 5V water pump and LED4. LED4 is a red LED that signifies the soil is dry and needs water.

When in autonomous mode, the circuits use 4 status LEDs, blue, green, yellow, and red, to simulate the amount of moisture in the soil respectively from moist to dry. These are operated using the digital pins of the Arduino Nano. The blue (LED1) and red (LED4) LEDs are connected to two 470 Ω resistors so they are operable in either autonomous or standard mode. The digital pins will introduce node voltages at the cathode and anodes respectively regardless of what state the relay is in when using the Nano. With the Nano, LEDs will turn off after 30 seconds, and when only the red LED is left, the pump will be activated for 9 seconds. LEDs will slowly slight up in 3 second intervals and when the blue LED is lit, the water pump will stop. In standard mode, only blue and red will be active.
